# Configuração do Pipeline de Previsão - Vitória/ES

# Pré-processamento
preprocessing:
  # Teste de estacionaridade
  stationarity:
    alpha: 0.05  # Nível de significância
    max_diff: 2  # Máximo de diferenciações
    try_seasonal: true
    seasonal_period: 12

  # Seleção de variáveis via Granger
  granger:
    max_lag: 4  # Máximo de lags no teste
    alpha: 0.05
    max_vars: 5  # Top-K variáveis a selecionar

# Modelo de Fator Dinâmico
factor_model:
  ar_order: 2  # Ordem do AR para o fator
  scale_min: 0.0  # Escala mínima do IDCI-VIX
  scale_max: 10.0  # Escala máxima
  use_normal_cdf: true  # Usar CDF normal para escala

# Modelos de Previsão
forecasting:
  horizon: 12  # Horizonte de previsão (meses)

  # ARIMA
  arima:
    p_range: [0, 3]
    d_range: [0, 2]
    q_range: [0, 3]
    criterion: 'aic'  # 'aic' ou 'bic'

  # SARIMA
  sarima:
    p_range: [0, 2]
    d_range: [0, 1]
    q_range: [0, 2]
    P_range: [0, 2]
    D_range: [0, 1]
    Q_range: [0, 2]
    s: 12  # Período sazonal
    criterion: 'aic'

  # Markov-Switching
  markov:
    k_regimes: 2  # Número de regimes
    order: 2  # Ordem do AR
    switching_variance: true

  # Ridge/Lasso
  regularized:
    max_lag: 12
    cv_folds: 5
    ridge_alpha: null  # null = auto via CV
    lasso_alpha: null

  # Random Forest
  random_forest:
    n_estimators: 100
    max_depth: 15
    min_samples_split: 20
    min_samples_leaf: 10
    max_lag: 12

  # Regressão Quantílica
  quantile:
    quantiles: [0.1, 0.5, 0.9]
    max_lag: 12

# Ensemble
ensemble:
  method: 'weighted_avg'  # 'simple_avg', 'weighted_avg', 'median', 'stacking'
  metric: 'rmse'  # Métrica para pesos

# Avaliação
evaluation:
  min_train_size: 36  # Janela mínima de treino (meses)
  step: 1  # Passo entre janelas
  metrics: ['rmse', 'mae', 'mape']

# Dados
data:
  raw_path: 'data/raw/'
  processed_path: 'data/processed/'
  date_column: 'date'
  freq: 'MS'  # Frequência mensal

# Saída
output:
  save_idci_vix: true
  save_forecasts: true
  save_models: false
  verbose: true
